<!DOCTYPE html>
<html>
<head>
    <title>üöÄ GitHub Events Dashboard</title>
    <meta http-equiv="refresh" content="15">
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;max-width:900px;margin:0 auto;padding:30px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);}
        .header{text-align:center;color:white;margin-bottom:40px;}
        .header h1{font-size:2.5em;margin-bottom:10px;}
        .status{background:rgba(255,255,255,0.2);padding:15px 25px;border-radius:50px;display:inline-block;}
        .events{display:flex;flex-direction:column;gap:15px;}
        .event{background:white;padding:20px;border-radius:12px;box-shadow:0 8px 32px rgba(0,0,0,0.1);}
        .event::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#0366d6,#28a745);}
        .event.push{border-left:5px solid #28a745;}
        .event.pull_request{border-left:5px solid #0366d6;}
        .event.merge{border-left:5px solid #6f42c1;}
        .author{font-weight:700;font-size:1.1em;color:#24292e;}
        .details{color:#586069;margin:8px 0;font-size:1.05em;}
        .time{font-size:0.9em;color:#6a737d;font-style:italic;}
        .empty{text-align:center;color:white;font-size:1.2em;margin-top:50px;}
        .refresh{position:fixed;bottom:20px;right:20px;background:#0366d6;color:white;border:none;padding:12px 20px;border-radius:25px;cursor:pointer;box-shadow:0 4px 15px rgba(3,102,214,0.4);}
    </style>
</head>
<body>
<div class="header">
    <h1>üöÄ GitHub Activity Monitor</h1>
    <div class="status">Auto-refreshing every 15 seconds ‚è∞</div>
</div>

<div class="events">
    {% if events %}
    {% for event in events %}
    <div class="event {{ event.eventtype }}">
        <div class="author">{{ event.author }}</div>
        <div class="details">
            {% if event.eventtype == 'push' %}
            pushed to <strong>{{ event.tobranch }}</strong>
            {% elif event.eventtype == 'pull_request' %}
            submitted PR <strong>{{ event.frombranch }}</strong> ‚Üí <strong>{{ event.tobranch }}</strong>
            {% elif event.eventtype == 'merge' %}
            merged <strong>{{ event.frombranch }}</strong> ‚Üí <strong>{{ event.tobranch }}</strong>
            {% endif %}
        </div>
        <div class="time">on {{ event.timestamp_display or event.timestamp }}</div>
    </div>
    {% endfor %}
    {% else %}
    <div class="empty">Waiting for GitHub events... üåü</div>
    {% endif %}
</div>

<button class="refresh" onclick="location.reload()">‚Üª Refresh</button>
</body>
</html>
